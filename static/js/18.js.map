{"version":3,"file":"static/js/18.js","sources":["webpack:///TableExhibition.vue","webpack:///TableExhibitionBody.vue","webpack:///./src/views/byui/codeGenerator/components/TableExhibition.vue?f907","webpack:///./src/views/byui/codeGenerator/components/TableExhibitionBody.vue?21ee","webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.array.join.js","webpack:///./src/views/byui/codeGenerator/components/TableExhibition.vue","webpack:///./src/views/byui/codeGenerator/components/TableExhibition.vue?ca8e","webpack:///./src/views/byui/codeGenerator/components/TableExhibition.vue?4ec6","webpack:///./src/views/byui/codeGenerator/components/TableExhibitionBody.vue","webpack:///./src/views/byui/codeGenerator/components/TableExhibitionBody.vue?d74b","webpack:///./src/views/byui/codeGenerator/components/TableExhibitionBody.vue?4095","webpack:///./src/views/byui/codeGenerator/components/snippetTable.js","webpack:///./src/views/byui/codeGenerator/components/snippetTableColumn.js"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <TableExhibitionQuery :headers=\"headers\" />\n    <el-row>\n      <el-col :span=\"6\">\n        <TableExhibitionHeader :headers.sync=\"headers\" />\n      </el-col>\n      <el-col :span=\"18\">\n        <TableExhibitionBody :headers=\"headers\" :list=\"list\" />\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport TableExhibitionBody from \"./TableExhibitionBody\";\nimport TableExhibitionQuery from \"./TableExhibitionQuery\";\nimport TableExhibitionHeader from \"./TableExhibitionHeader\";\nimport { genTableSnippet } from \"./snippetTable.js\";\n\nexport default {\n  components: {\n    TableExhibitionBody,\n    TableExhibitionHeader,\n    TableExhibitionQuery,\n  },\n  props: {\n    tableData: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      list: [],\n      code: \"\",\n      headers: [],\n      query: {\n        limit: 20,\n        cursor: 1,\n      },\n      total: 0,\n    };\n  },\n  watch: {\n    tableData: {\n      handler(val) {\n        this.list = val.data && val.data.slice(0, 3);\n        if (this.list) {\n          this.headers = Object.keys(this.list[0]).map((item) => {\n            // opt 为需要对 字段的操作，''空就不操作，'time' 处理时间，'template' 将字段放在template 里面，方便后续操作\n            return {\n              value: this.list[0][item],\n              key: item,\n              label: item,\n              show: true,\n              opt: \"\",\n              query: false,\n            };\n          });\n        }\n      },\n      immediate: true,\n    },\n    headers: {\n      handler(val) {\n        this.code = genTableSnippet(val, this.getTableAPI);\n        this.$store.commit(\"SET_SRC_TABLE_CODE\", this.code);\n        /* window.localStorage.removeItem('vue-element-table-gen-code');\n                          window.localStorage.setItem('vue-element-table-gen-code', this.code); */\n      },\n      deep: true,\n    },\n  },\n  created() {},\n  methods: {\n    editdata() {},\n    test(val) {},\n  },\n};\n</script>\n","<template>\n  <div style=\"margin-top: 20px; margin-left: 20px;\">\n    <el-table\n      :key=\"table_key\"\n      :data=\"list\"\n      style=\"width: 100%; margin-top: -10px;\"\n      @header-click=\"test\"\n    >\n      <template v-for=\"header in headers\">\n        <el-table-column\n          v-if=\"header.show\"\n          :key=\"header.key\"\n          :label=\"header.label\"\n          align=\"center\"\n        >\n          <template slot-scope=\"{ row }\">\n            {{ row[header.key] }}\n          </template>\n        </el-table-column>\n      </template>\n    </el-table>\n    <el-pagination\n      background\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"1000\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    list: {\n      type: null,\n      required: true,\n    },\n    headers: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      query: {\n        limit: 20,\n        cursor: 1,\n      },\n      table_key: 0,\n      total: 0,\n    };\n  },\n  watch: {\n    headers() {\n      this.table_key++;\n    },\n  },\n  created() {},\n  methods: {\n    editdata() {},\n    test(val) {},\n  },\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"app-container\" },\n    [\n      _c(\"TableExhibitionQuery\", { attrs: { headers: _vm.headers } }),\n      _c(\n        \"el-row\",\n        [\n          _c(\n            \"el-col\",\n            { attrs: { span: 6 } },\n            [\n              _c(\"TableExhibitionHeader\", {\n                attrs: { headers: _vm.headers },\n                on: {\n                  \"update:headers\": function($event) {\n                    _vm.headers = $event\n                  }\n                }\n              })\n            ],\n            1\n          ),\n          _c(\n            \"el-col\",\n            { attrs: { span: 18 } },\n            [\n              _c(\"TableExhibitionBody\", {\n                attrs: { headers: _vm.headers, list: _vm.list }\n              })\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticStyle: { \"margin-top\": \"20px\", \"margin-left\": \"20px\" } },\n    [\n      _c(\n        \"el-table\",\n        {\n          key: _vm.table_key,\n          staticStyle: { width: \"100%\", \"margin-top\": \"-10px\" },\n          attrs: { data: _vm.list },\n          on: { \"header-click\": _vm.test }\n        },\n        [\n          _vm._l(_vm.headers, function(header) {\n            return [\n              header.show\n                ? _c(\"el-table-column\", {\n                    key: header.key,\n                    attrs: { label: header.label, align: \"center\" },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"default\",\n                          fn: function(ref) {\n                            var row = ref.row\n                            return [_vm._v(\" \" + _vm._s(row[header.key]) + \" \")]\n                          }\n                        }\n                      ],\n                      null,\n                      true\n                    )\n                  })\n                : _vm._e()\n            ]\n          })\n        ],\n        2\n      ),\n      _c(\"el-pagination\", {\n        attrs: {\n          background: \"\",\n          layout: \"total, sizes, prev, pager, next, jumper\",\n          total: 1000\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import { render, staticRenderFns } from \"./TableExhibition.vue?vue&type=template&id=c71748b2&\"\nimport script from \"./TableExhibition.vue?vue&type=script&lang=js&\"\nexport * from \"./TableExhibition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Development\\\\WebStormProjects\\\\vue-element-admin-beautiful\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('c71748b2')) {\n      api.createRecord('c71748b2', component.options)\n    } else {\n      api.reload('c71748b2', component.options)\n    }\n    module.hot.accept(\"./TableExhibition.vue?vue&type=template&id=c71748b2&\", function () {\n      api.rerender('c71748b2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/byui/codeGenerator/components/TableExhibition.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./TableExhibition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./TableExhibition.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5e2061c8-vue-loader-template\\\"}!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./TableExhibition.vue?vue&type=template&id=c71748b2&\"","import { render, staticRenderFns } from \"./TableExhibitionBody.vue?vue&type=template&id=450b8e2e&\"\nimport script from \"./TableExhibitionBody.vue?vue&type=script&lang=js&\"\nexport * from \"./TableExhibitionBody.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Development\\\\WebStormProjects\\\\vue-element-admin-beautiful\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('450b8e2e')) {\n      api.createRecord('450b8e2e', component.options)\n    } else {\n      api.reload('450b8e2e', component.options)\n    }\n    module.hot.accept(\"./TableExhibitionBody.vue?vue&type=template&id=450b8e2e&\", function () {\n      api.rerender('450b8e2e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/byui/codeGenerator/components/TableExhibitionBody.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./TableExhibitionBody.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./TableExhibitionBody.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5e2061c8-vue-loader-template\\\"}!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./TableExhibitionBody.vue?vue&type=template&id=450b8e2e&\"","import { genTableColumnSnippet } from \"./snippetTableColumn\";\n\nexport const genTableSnippet = (headers = \"getList\") => {\n  return `<template>\n  <div class=\"改成你的组件名-container\">\n    <byui-query-form>\n      <byui-query-form-left-panel :span=\"12\">\n        <el-button icon=\"el-icon-plus\" type=\"primary\">添加</el-button>\n        <el-button icon=\"el-icon-edit\" type=\"warning\">修改</el-button>\n        <el-button\n          icon=\"el-icon-delete\"\n          type=\"danger\"\n          @click=\"handleDelete\"\n        >批量删除\n        </el-button\n        >\n      </byui-query-form-left-panel>\n      <byui-query-form-right-panel :span=\"12\">\n        <el-form :inline=\"true\" :model=\"queryForm\">\n          <el-form-item>\n            <el-input\n              v-model.trim=\"queryForm.${headers[0].key}\"\n              placeholder=\"请输入查询条件\"\n              clearable\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              native-type=\"submit\"\n              icon=\"el-icon-search\"\n              type=\"primary\"\n              @click=\"queryData\"\n            >查询\n            </el-button\n            >\n          </el-form-item>\n        </el-form>\n      </byui-query-form-right-panel>\n    </byui-query-form>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :height=\"height\"\n      :data=\"list\"\n      :element-loading-text=\"elementLoadingText\"\n      @selection-change=\"setSelectRows\"\n    >\n      <el-table-column type=\"selection\"></el-table-column>\n      ${genTableColumnSnippet(headers)}\n      <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n        <template v-slot=\"scope\">\n          <el-button type=\"text\" @click=\"editList(scope.row)\"\n          >编辑\n          </el-button\n          >\n          <el-button type=\"text\" @click=\"tableDelete(scope.row)\"\n          >删除\n          </el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      :background=\"background\"\n      :current-page=\"queryForm.pageNo\"\n      :page-size=\"queryForm.pageSize\"\n      :layout=\"layout\"\n      :total=\"total\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    ></el-pagination>\n  </div>\n</template>\n\n<script>\n\n  import { getList } from \"@/api/table\";\n\n  export default {\n    name: \"你的view名称与文件夹名称相同不要忘了首字母大写,且唯一\",\n    data() {\n      return {\n        list: null,\n        listLoading: true,\n        layout: \"total, sizes, prev, pager, next, jumper\",\n        total: 0,\n        background: true,\n        height: 0,\n        selectRows: \"\",\n        elementLoadingText: \"正在加载...\",\n        queryForm: {\n          pageNo: 1,\n          pageSize: 10\n      ${headers[0].key}\n    :\n      \"\",\n    }\n    }\n      ;\n    },\n    created() {\n      this.fetchData();\n      this.height = this.baseTableHeight(1);\n    },\n    methods: {\n      setSelectRows(val) {\n        this.selectRows = val;\n      },\n      editList(row) {\n      },\n      handleDelete() {\n        if (this.selectRows.length > 0) {\n          const ids = this.selectRows.map(item => item.id).join();\n          this.baseConfirm(\n            \"你确定要删除选中项吗\",\n            null,\n            () => {\n              alert(ids);\n            },\n            () => {\n              alert(\"点击了取消\");\n            },\n          );\n        } else {\n          this.baseMessage(\"未选中任何行\", \"error\");\n          return false;\n        }\n      },\n      tableDelete(row) {\n        alert(row.id);\n      },\n      handleSizeChange(val) {\n        this.queryForm.pageSize = val;\n        this.fetchData();\n      },\n      handleCurrentChange(val) {\n        this.queryForm.pageNo = val;\n        this.fetchData();\n      },\n      queryData() {\n        this.queryForm.pageNo = 1;\n        this.fetchData();\n      },\n      fetchData() {\n        this.listLoading = true;\n        getList(this.queryForm).then(res => {\n          this.list = res.data;\n          this.total = res.totalCount;\n          setTimeout(_ => {\n            this.listLoading = false;\n          }, 300);\n        });\n      },\n    },\n  };\n</script>\n<style lang=\"scss\" scoped></style>\n`;\n};\n","const timeFieldNeedHandle = {\n  created_at: true,\n  create_time: true,\n  updated_at: true,\n  update_time: true,\n  start_time: true,\n  end_time: true,\n};\nconst genTableColumnSnippetSimple = (key, label) => {\n  return `<el-table-column prop=\"${key}\" label=\"${label}\"/>`;\n};\n\nconst genTabeleColumnSinppetTemplate = (key, label) => {\n  let val = \"\";\n  if (timeFieldNeedHandle[key]) {\n    val = `parseTime(row.${key})`;\n  } else {\n    val = `row.${key}`;\n  }\n  return `<el-table-column label=\"${label}\">\n          <template v-slot={row}>\n            {{ ${val} }}\n          </template>\n        </el-table-column>`;\n};\n\nexport const genTableColumnSnippet = (headers) => {\n  return headers\n    .filter((header) => {\n      return header.show;\n    })\n    .map((header) => {\n      if (timeFieldNeedHandle[header.key] || header.opt === \"template\") {\n        return genTabeleColumnSinppetTemplate(header.key, header.label);\n      } else {\n        return genTableColumnSnippetSimple(header.key, header.label);\n      }\n    })\n    .join(\"\\n      \");\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AARA;AAUA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAjBA;AAmBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAPA;AApBA;AA8BA;AACA;AACA;AACA;AAFA;AAzDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAFA;AA3BA;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AAAA;AACA;AA2JA;;;;;;;;;;;;;;;;;;;;;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;A","sourceRoot":""}
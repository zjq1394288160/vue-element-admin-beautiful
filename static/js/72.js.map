{"version":3,"file":"static/js/72.js","sources":["webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.array.join.js","webpack:///./src/views/byui/codeGenerator/components/snippetTable.js","webpack:///./src/views/byui/codeGenerator/components/snippetTableColumn.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import { genTableColumnSnippet } from \"./snippetTableColumn\";\n\nexport const genTableSnippet = (headers = \"getList\") => {\n  return `<template>\n  <div class=\"改成你的组件名-container\">\n    <byui-query-form>\n      <byui-query-form-left-panel :span=\"12\">\n        <el-button icon=\"el-icon-plus\" type=\"primary\">添加</el-button>\n        <el-button icon=\"el-icon-edit\" type=\"warning\">修改</el-button>\n        <el-button\n          icon=\"el-icon-delete\"\n          type=\"danger\"\n          @click=\"handleDelete\"\n        >批量删除\n        </el-button\n        >\n      </byui-query-form-left-panel>\n      <byui-query-form-right-panel :span=\"12\">\n        <el-form :inline=\"true\" :model=\"queryForm\">\n          <el-form-item>\n            <el-input\n              v-model.trim=\"queryForm.${headers[0].key}\"\n              placeholder=\"请输入查询条件\"\n              clearable\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              native-type=\"submit\"\n              icon=\"el-icon-search\"\n              type=\"primary\"\n              @click=\"queryData\"\n            >查询\n            </el-button\n            >\n          </el-form-item>\n        </el-form>\n      </byui-query-form-right-panel>\n    </byui-query-form>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :height=\"height\"\n      :data=\"list\"\n      :element-loading-text=\"elementLoadingText\"\n      @selection-change=\"setSelectRows\"\n    >\n      <el-table-column type=\"selection\"></el-table-column>\n      ${genTableColumnSnippet(headers)}\n      <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n        <template v-slot=\"scope\">\n          <el-button type=\"text\" @click=\"editList(scope.row)\"\n          >编辑\n          </el-button\n          >\n          <el-button type=\"text\" @click=\"tableDelete(scope.row)\"\n          >删除\n          </el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      :background=\"background\"\n      :current-page=\"queryForm.pageNo\"\n      :page-size=\"queryForm.pageSize\"\n      :layout=\"layout\"\n      :total=\"total\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    ></el-pagination>\n  </div>\n</template>\n\n<script>\n\n  import { getList } from \"@/api/table\";\n\n  export default {\n    name: \"你的view名称与文件夹名称相同不要忘了首字母大写,且唯一\",\n    data() {\n      return {\n        list: null,\n        listLoading: true,\n        layout: \"total, sizes, prev, pager, next, jumper\",\n        total: 0,\n        background: true,\n        height: 0,\n        selectRows: \"\",\n        elementLoadingText: \"正在加载...\",\n        queryForm: {\n          pageNo: 1,\n          pageSize: 10\n      ${headers[0].key}\n    :\n      \"\",\n    }\n    }\n      ;\n    },\n    created() {\n      this.fetchData();\n      this.height = this.baseTableHeight(1);\n    },\n    methods: {\n      setSelectRows(val) {\n        this.selectRows = val;\n      },\n      editList(row) {\n      },\n      handleDelete() {\n        if (this.selectRows.length > 0) {\n          const ids = this.selectRows.map(item => item.id).join();\n          this.baseConfirm(\n            \"你确定要删除选中项吗\",\n            null,\n            () => {\n              alert(ids);\n            },\n            () => {\n              alert(\"点击了取消\");\n            },\n          );\n        } else {\n          this.baseMessage(\"未选中任何行\", \"error\");\n          return false;\n        }\n      },\n      tableDelete(row) {\n        alert(row.id);\n      },\n      handleSizeChange(val) {\n        this.queryForm.pageSize = val;\n        this.fetchData();\n      },\n      handleCurrentChange(val) {\n        this.queryForm.pageNo = val;\n        this.fetchData();\n      },\n      queryData() {\n        this.queryForm.pageNo = 1;\n        this.fetchData();\n      },\n      fetchData() {\n        this.listLoading = true;\n        getList(this.queryForm).then(res => {\n          this.list = res.data;\n          this.total = res.totalCount;\n          setTimeout(_ => {\n            this.listLoading = false;\n          }, 300);\n        });\n      },\n    },\n  };\n</script>\n<style lang=\"scss\" scoped></style>\n`;\n};\n","const timeFieldNeedHandle = {\n  created_at: true,\n  create_time: true,\n  updated_at: true,\n  update_time: true,\n  start_time: true,\n  end_time: true,\n};\nconst genTableColumnSnippetSimple = (key, label) => {\n  return `<el-table-column prop=\"${key}\" label=\"${label}\"/>`;\n};\n\nconst genTabeleColumnSinppetTemplate = (key, label) => {\n  let val = \"\";\n  if (timeFieldNeedHandle[key]) {\n    val = `parseTime(row.${key})`;\n  } else {\n    val = `row.${key}`;\n  }\n  return `<el-table-column label=\"${label}\">\n          <template v-slot={row}>\n            {{ ${val} }}\n          </template>\n        </el-table-column>`;\n};\n\nexport const genTableColumnSnippet = (headers) => {\n  return headers\n    .filter((header) => {\n      return header.show;\n    })\n    .map((header) => {\n      if (timeFieldNeedHandle[header.key] || header.opt === \"template\") {\n        return genTabeleColumnSinppetTemplate(header.key, header.label);\n      } else {\n        return genTableColumnSnippetSimple(header.key, header.label);\n      }\n    })\n    .join(\"\\n      \");\n};\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACjBA;AAEA;AAAA;AACA;AA2JA;;;;;;;;;;;;;;;;;;;;;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;A","sourceRoot":""}